<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Add Leagues</title>
    <link rel="stylesheet" href="/css/styles.css"> <!-- Link your CSS file -->
</head>
<body class="add-league-body">
<header th:replace="~{fragments/commons::navbar(activeLink=${''})}"></header><!-- Navbar inclusion -->
<section class="add-league-section">
    <div class="add-league-container">
        <h1>Select Leagues</h1>
        <form id="country-form" th:method="get" th:action="@{/leagues/add}">
            <label for="country">Country:</label>
            <select id="country" name="countryName" th:onchange="this.form.submit()">
                <option value="" disabled selected>Select</option>
                <option th:each="country : ${countries}" th:value="${country}" th:text="${country}"
                        th:selected="${country == countryName}"></option>
            </select>
        </form>

        <!-- Leagues display -->
        <div th:if="${leagues != null} and ${#lists.size(leagues) > 0}">
            <form id="league-form" th:method="post" th:action="@{/leagues/saveSelected}">
                <div class="add-leagues-list">
                    <h2 th:if="${countryName != null}">Leagues in <span id="selected-country"
                                                                        th:text="${countryName}"></span>:</h2>
                    <div th:each="league : ${leagues}" class="add-league-box">
                        <input type="checkbox" th:id="${league.id}" th:name="leagueIds" th:value="${league.id}"
                               th:checked="${league.selected}">
                        <label th:for="${league.id}" th:text="${league.name}"></label>
                    </div>
                </div>
                <input type="submit" value="Save Selected Leagues">
            </form>
        </div>
    </div>
</section>
<footer class="add-league-footer" th:replace="fragments/commons::footer"></footer> <!-- Footer inclusion -->
</body>
</html>
